---
title: "R Notebook"
output: html_notebook
---

```{r}
library(ggplot2)
library(tidyverse)
library(lubridate)
```

```{r}

locations <- read_csv("Sensor Locations.csv")
setwd("G:/My Drive/Independent Study Fall 2020/McDonald_Hollow/Corrected Temperature Files")
tempdata <-
    list.files(pattern = "*.csv") %>% 
    map_dfr(~read_csv(.) %>% 
              mutate(Sensor = .x)) %>%
    mutate_at("Sensor", str_trunc, width = 10, side='right', ellipsis = '') %>%
    mutate_at("Sensor", str_replace_all, pattern = ' ', replacement = '')
tempdata <- left_join(tempdata, locations, by = c("Sensor" = "SensorID"))

```

PIVOT DATA WIDE and add column subtracting temperatures of sensors (in water sensor - in/out of water sensor)
```{r}

wide <- pivot_wider(tempdata, names_from = Sensor, values_from = TempCor_F, DateTime)
mutate(wide, c = (SN20680149 - SN20883402))

long <- pivot_longer(wide, names_to = c(SN20680147, SN20883419), values_to = DateTime)


```


